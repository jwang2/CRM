<ui:composition xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:a4j="http://richfaces.org/a4j">
    <h:panelGroup>
        <h:panelGroup id="campaignCustomersMessagePanel" layout="block">
            <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
        </h:panelGroup>

        <h:panelGroup rendered="true">
            <h:outputText value="Customers"/>
            <rich:dataTable id="campaignCustomerResultTable" styleClass="table" value="#{campaignSearchBean.campaignCustomers}" var="item" rowClasses="jsfcrud_odd_row,jsfcrud_even_row" style="border:solid 1px; width: 100%">
                <rich:column sortBy="#{item.id}" sortOrder="#{customerSortingBean.idOrder}">
                    <f:facet name="header">
                        <a4j:commandLink value="#{bundle.ListCustomerTitle_id}" render="campaignCustomerResultTable" action="#{customerSortingBean.sortById()}"/>
                    </f:facet>
                    <h:outputText value="#{item.id}"/>
                </rich:column>
                <rich:column sortBy="#{item.name}" sortOrder="#{customerSortingBean.nameOrder}">
                    <f:facet name="header">
                        <a4j:commandLink value="#{bundle.ListCustomerTitle_name}" render="campaignCustomerResultTable" action="#{customerSortingBean.sortByName()}"/>
                    </f:facet>
                    <h:outputText value="#{item.name}"/>
                </rich:column>
                <rich:column sortBy="#{item.status}" sortOrder="#{customerSortingBean.statusOrder}">
                    <f:facet name="header">
                        <a4j:commandLink value="#{bundle.ListCustomerTitle_status}" render="campaignCustomerResultTable" action="#{customerSortingBean.sortByStatus()}"/>
                    </f:facet>
                    <h:outputText value="#{item.status}"/>
                </rich:column>
                <rich:column sortBy="#{item.type}" sortOrder="#{customerSortingBean.typeOrder}">
                    <f:facet name="header">
                        <a4j:commandLink value="#{bundle.ListCustomerTitle_type}" render="campaignCustomerResultTable" action="#{customerSortingBean.sortByType()}"/>
                    </f:facet>
                    <h:outputText value="#{item.type}"/>
                </rich:column>
                <rich:column>
                    <f:facet name="header">
                        <h:outputText  value="&#160;&#160;&#160;" />
                    </f:facet>
                    <h:commandLink action="#{customerDetailBean.prepareDetail(item)}" value="Detail"/>
                </rich:column>
            </rich:dataTable>
        </h:panelGroup>

    </h:panelGroup>

</ui:composition>

