<ui:composition xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:a4j="http://richfaces.org/a4j">
    <h:panelGroup>
        <h:panelGroup id="campaignCustomersMessagePanel" layout="block">
            <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
        </h:panelGroup>

        <h:panelGroup rendered="true">
            <h:outputText value="Customers"/>
            <rich:dataTable id="campaignCustomerResultTable" styleClass="table" value="#{campaignSearchBean.campaignCustomers}" var="item" rowClasses="jsfcrud_odd_row,jsfcrud_even_row" style="border:solid 1px; width: 100%">
                <rich:column sortBy="#{item.customerId.id}" sortOrder="#{customerSortingBean.idOrder}">
                    <f:facet name="header">
                        <a4j:commandLink value="#{bundle.ListCustomerTitle_id}" render="campaignCustomerResultTable" action="#{customerSortingBean.sortById()}"/>
                    </f:facet>
                    <h:commandLink action="#{customerDetailBean.prepareDetailFromCampaign(item.customerId)}" value="#{item.customerId.id}"/>
                </rich:column>
                <rich:column sortBy="#{item.customerId.name}" sortOrder="#{customerSortingBean.nameOrder}">
                    <f:facet name="header">
                        <a4j:commandLink value="#{bundle.ListCustomerTitle_name}" render="campaignCustomerResultTable" action="#{customerSortingBean.sortByName()}"/>
                    </f:facet>
                    <h:outputText value="#{item.customerId.name}"/>
                </rich:column>
                <rich:column sortBy="#{item.customerId.type}" sortOrder="#{customerSortingBean.typeOrder}">
                    <f:facet name="header">
                        <a4j:commandLink value="#{bundle.ListCustomerTitle_type}" render="campaignCustomerResultTable" action="#{customerSortingBean.sortByType()}"/>
                    </f:facet>
                    <h:outputText value="#{item.customerId.type}"/>
                </rich:column>
                <rich:column sortBy="#{item.customerId.status}" sortOrder="#{customerSortingBean.statusOrder}">
                    <f:facet name="header">
                        <a4j:commandLink value="#{bundle.ListCustomerTitle_status}" render="campaignCustomerResultTable" action="#{customerSortingBean.sortByStatus()}"/>
                    </f:facet>
                    <h:outputText value="#{item.customerId.status}"/>
                </rich:column>
                <rich:column >
                    <f:facet name="header">
                        <h:outputText value="Start Date"/>
                    </f:facet>
                    <h:outputText value="#{item.startDate}"/>
                </rich:column>
                <rich:column >
                    <f:facet name="header">
                        <h:outputText value="Complete Date"/>
                    </f:facet>
                    <h:outputText value="#{item.completedDate}"/>
                </rich:column>

            </rich:dataTable>
        </h:panelGroup>

    </h:panelGroup>

</ui:composition>

