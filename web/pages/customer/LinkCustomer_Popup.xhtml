<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:rich="http://richfaces.org/rich"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:a4j="http://richfaces.org/a4j">

    <rich:popupPanel id="linkcustomer" header="Link two customers" autosized="true" modal="false" moveable="true" resizeable="false" followByScroll="false" domElementAttachment="parent">
        <h:form>
            <h:panelGroup rendered="#{!customerDetailBean.findCustomerToLink}">
                <h:panelGrid columns="1" width="100%" styleClass="panelgrid-middle">
                    <h:outputLabel value="No customer is found."/>
                    <br/>
                    <br/>
                    <a4j:commandButton value="OK" onclick="#{rich:component('linkcustomer')}.hide(event);return false;"/>
                </h:panelGrid>

            </h:panelGroup>
            <h:panelGroup rendered ="#{customerDetailBean.findCustomerToLink}">
                <h:outputLabel value="Are you sure the following two customers are the same?" style=" font-weight: bold"/>
                <br/>
                <br/>
                <h:panelGrid columns="1">
                    <h:panelGrid border="1" columns="4" width="100%" styleClass="panelgrid-middle">
                        <h:outputLabel value="#{bundle.ViewCustomerLabel_id}" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.selected.id}"/>

                        <h:outputLabel value="Address:" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.selectedMainAddress.address1}"/>

                        <h:outputLabel value="#{bundle.ViewCustomerLabel_name}" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.selected.name}"/>

                        <h:outputLabel value="City:" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.selectedMainAddress.city}"/>

                        <h:outputLabel value="#{bundle.ViewCustomerLabel_type}" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.selected.type}"/>

                        <h:outputLabel value="County:" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.selectedMainAddress.county}"/>

                        <h:outputLabel value="#{bundle.ViewCustomerLabel_phone}" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.selected.phone}"/>

                        <h:outputLabel value="State:" style=" font-weight: bold" />
                        <h:outputLabel value="#{customerDetailBean.selectedMainAddress.state}"/>

                        <h:outputLabel value="#{bundle.ViewCustomerLabel_accountEmail}" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.selected.accountEmail}"/>

                        <h:outputLabel value="Zipcode:" style=" font-weight: bold" />
                        <h:outputLabel value="#{customerDetailBean.selectedMainAddress.zipCode}"/>

                    </h:panelGrid>
                    <br/>
                    <br/>
                    <h:panelGrid border="1" columns="4" width="100%" styleClass="panelgrid-middle">
                        <h:outputLabel value="#{bundle.ViewCustomerLabel_id}" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.customerToLink.id}"/>

                        <h:outputLabel value="Address:" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.customerToLinkMainAddress.address1}"/>

                        <h:outputLabel value="#{bundle.ViewCustomerLabel_name}" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.customerToLink.name}"/>

                        <h:outputLabel value="City:" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.customerToLinkMainAddress.city}"/>

                        <h:outputLabel value="#{bundle.ViewCustomerLabel_type}" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.customerToLink.type}"/>

                        <h:outputLabel value="County:" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.customerToLinkMainAddress.county}"/>

                        <h:outputLabel value="#{bundle.ViewCustomerLabel_phone}" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.customerToLink.phone}"/>

                        <h:outputLabel value="State:" style=" font-weight: bold" />
                        <h:outputLabel value="#{customerDetailBean.customerToLinkMainAddress.state}"/>

                        <h:outputLabel value="#{bundle.ViewCustomerLabel_accountEmail}" style=" font-weight: bold"/>
                        <h:outputLabel value="#{customerDetailBean.customerToLink.accountEmail}"/>

                        <h:outputLabel value="Zipcode:" style=" font-weight: bold" />
                        <h:outputLabel value="#{customerDetailBean.customerToLinkMainAddress.zipCode}"/>

                    </h:panelGrid>
                </h:panelGrid>
                <br/>
                <br/>
                <h:panelGroup>
                    <a4j:commandButton value="Cancel" onclick="#{rich:component('linkcustomer')}.hide(event);
                        return false;"/>
                    <a4j:commandButton execute="linkcustomer" render="linkcustomermain" value="Link" action="#{customerDetailBean.linkCustomers()}" oncomplete="#{rich:component('linkcustomer')}.hide(event);return false;"/>
                </h:panelGroup>
            </h:panelGroup>
            <br/>

        </h:form>
    </rich:popupPanel>

</ui:composition>
